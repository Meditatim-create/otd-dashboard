# Rekenmodel OTD Dashboard â€” configureerbaar per KPI
# method: "column" (lees PowerBI-kolom) of "recalculate" (herbereken uit datums)
# Gevalideerd op 28-02-2026 tegen PowerBI dashboard

no_pod:
  exclude_from_denominator: true   # ELHO standaard: orders zonder POD tellen niet mee

dedup:
  enabled: true
  key: "DeliveryNumber"            # PowerBI telt unieke leveringen

otd:
  method: "column"
  source_column: "PERFORMANCE_CUSTOMER_BOOK_IN"   # Matcht PowerBI (incl. book-in correcties)
  ok_values: ["OnTime"]
  no_pod_values: ["NO POD"]
  # alternatief zonder book-in correcties:
  # source_column: "PERFORMANCE_CUSTOMER_FINAL"

performances:
  planned_performance_ok:
    naam: "Planned Performance"
    nummer: 1
    beschikbaar: true
    method: "recalculate"                          # Kolom 'planned performance' niet in standaard PowerBI export
    dates: ["Leveringstermijn", "SAP Delivery Date"]
    # als kolom WEL beschikbaar:
    # method: "column"
    # source_column: "planned performance"
    # ok_values: ["ontime"]

  capacity_performance_ok:
    naam: "Capacity Performance"
    nummer: 2
    beschikbaar: true
    method: "column"
    source_column: "PERFORMANCE_CAPACITY"
    ok_values: ["not moved"]

  warehouse_performance_ok:
    naam: "Warehouse Performance"
    nummer: 3
    beschikbaar: true
    method: "column"
    source_column: "PERFORMANCE_LOGISTIC"
    ok_values: ["On schedule"]

  carrier_pickup_ok:
    naam: "Carrier Pick-up"
    nummer: 4
    beschikbaar: false

  carrier_departure_ok:
    naam: "Carrier Departure"
    nummer: 5
    beschikbaar: false

  carrier_transit_ok:
    naam: "Carrier Transit"
    nummer: 6
    beschikbaar: true
    method: "column"
    source_column: "PERFORMANCE_TRANSPORT"
    ok_values: ["OnTime"]
    no_pod_values: ["NO POD"]
